<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora con Spring Boot</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <h1 class="title">Calculadora Web</h1>

    <form id="calcForm">
        <div class="group">
            <label for="numero1" class="label">Número 1:</label>
            <input type="number" id="numero1" class="form-input">
        </div>

        <div class="group">
            <label for="numero2" class="label">Número 2:</label>
            <input type="number" id="numero2" class="form-input">
        </div>

        <div class="group">
            <label class="label">Operación:</label>
            <button type="button" onclick="enviarOperacion('sumar')" class="submit-button">+</button>
            <button type="button" onclick="enviarOperacion('restar')" class="submit-button">-</button>
            <button type="button" onclick="enviarOperacion('multiplicar')" class="submit-button">*</button>
            <button type="button" onclick="enviarOperacion('dividir')" class="submit-button">/</button>
        </div>

        <div id="error-message" style="color: red;"></div>
    </form>

    <h3 class="section-title">Resultado:</h3>
    <div class="response-area">
        <p id="respuesta"></p>
    </div>
</div>

<script>
    async function enviarOperacion(operacion) {
        const numero1 = document.getElementById("numero1").value.trim();
        const numero2 = document.getElementById("numero2").value.trim();
        const errorDiv = document.getElementById("error-message");
        const respuestaDiv = document.getElementById("respuesta");

        errorDiv.textContent = "";
        respuestaDiv.textContent = "";

        if (!numero1 || !numero2) {
            errorDiv.textContent = "Por favor ingrese ambos números.";
            return;
        }

        const datos = {
            numero1: numero1,
            numero2: numero2,
            operacion: operacion
        };

        try {
            const res = await fetch("/calcular", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(datos)
            });

            const json = await res.json();
            respuestaDiv.textContent = json.resultado;
        } catch (error) {
            respuestaDiv.textContent = "Error al conectar con el servidor.";
            console.error(error);
        }
    }
</script>
</body>
</html>